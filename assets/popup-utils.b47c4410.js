const r=document.querySelector(".graphical-representation-box");if(!r)throw new Error("Can't use popup utils where there is no .graphical-representation-box :/");const l=Array.from(r.querySelectorAll("[class*='popup-']")),c=l.map(o=>parseInt(o.dataset.order)),g=o=>c[o];let n=0;const i=0,u=c.length-1,d=()=>l[g(n)],b=x("Previous","previous",y),f=x("Next","next",h),a=document.createElement("div");a.append(b,f);a.classList.add("buttons");function x(o,e,s){const t=document.createElement("button");return t.addEventListener("click",s),t.textContent=o,t.className=e,t}function h(){n=n>=u?-1:n+1,p()}function y(){n=n<=i?-1:n-1,p()}function p(){if(l.forEach(v=>v.classList.remove("popup--visible")),n===-1)return;const o=d();o.classList.add("popup--visible"),o.appendChild(a);const{parentX:e}=m(),s=getComputedStyle(r).getPropertyValue("padding-left"),t=parseFloat(s);console.log("scrolling graphical-box"),console.log(`Parent X: ${e}px`),console.log(`Margin: ${t}px`),console.log(`diff: ${e-t}px`),r.scrollTo({behavior:"smooth",left:e-t}),f.textContent=n===u?"Close":"Next",b.textContent=n===i?"Close":"Previous"}function m(){const o=d(),e=o.parentElement.getBoundingClientRect();console.log(e);const s=e.x+r.scrollLeft,t=e.y+r.scrollTop;return o.style.setProperty("--left-corner",`${e.x}px`),o.style.setProperty("--top-corner",`${e.y}px`),{parentX:s,parentY:t}}window.addEventListener("resize",p);r.addEventListener("scroll",m);p();
